<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Система управления проектами</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Шапка -->
    <header class="header">
        <div class="container">
            <div class="logo">
                <i class="fas fa-tasks"></i>
                <h1>TaskMaster</h1>
            </div>
            <nav class="nav">
                <button class="nav-btn active" data-screen="dashboard">
                    <i class="fas fa-home"></i> Дашборд
                </button>
                <button class="nav-btn" data-screen="projects">
                    <i class="fas fa-project-diagram"></i> Проекты
                </button>
                <button class="nav-btn" data-screen="users">
                    <i class="fas fa-users"></i> Пользователи
                </button>
                <button class="nav-btn" data-screen="tasks">
                    <i class="fas fa-check-square"></i> Мои задачи
                </button>
            </nav>
            <div class="user-profile">
                <div class="avatar">МП</div>
                <div class="user-info">
                    <p class="user-name">Мария Петрова</p>
                    <p class="user-role">Менеджер</p>
                </div>
            </div>
        </div>
    </header>

    <main class="main-content container">
        <!-- Экран 1: Дашборд (по умолчанию видимый) -->
        <section id="dashboard" class="screen active">
            <div class="screen-header">
                <h2>Дашборд</h2>
                <button class="btn btn-primary">
                    <i class="fas fa-plus"></i> Новый проект
                </button>
            </div>

            <!-- Статистика -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon" style="background-color: #e3f2fd;">
                        <i class="fas fa-chart-line" style="color: #2196f3;"></i>
                    </div>
                    <h3>Активных проектов</h3>
                    <p class="stat-value">8</p>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="background-color: #fff3e0;">
                        <i class="fas fa-clock" style="color: #ff9800;"></i>
                    </div>
                    <h3>Задач в работе</h3>
                    <p class="stat-value">24</p>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="background-color: #ffebee;">
                        <i class="fas fa-exclamation-circle" style="color: #f44336;"></i>
                    </div>
                    <h3>Просрочено</h3>
                    <p class="stat-value">3</p>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="background-color: #e8f5e9;">
                        <i class="fas fa-check-circle" style="color: #4caf50;"></i>
                    </div>
                    <h3>Завершено</h3>
                    <p class="stat-value">42</p>
                </div>
            </div>

            <!-- Проекты -->
            <div class="section-title">
                <h3>Активные проекты</h3>
                <a href="#" class="view-all">Все проекты →</a>
            </div>

            <div class="projects-grid">
                <div class="project-card">
                    <div class="project-header">
                        <h4>Разработка нового сайта</h4>
                        <span class="status-badge status-active">Активен</span>
                    </div>
                    <p class="project-desc">Создание корпоративного сайта на современном стеке</p>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 65%;"></div>
                    </div>
                    <div class="project-footer">
                        <div class="project-deadline">
                            <i class="far fa-calendar-alt"></i>
                            <span>Дедлайн: 15.06.2024</span>
                        </div>
                        <div class="project-team">
                            <div class="team-avatars">
                                <span class="avatar-small">АИ</span>
                                <span class="avatar-small">ИС</span>
                                <span class="avatar-small">+2</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="project-card">
                    <div class="project-header">
                        <h4>Мобильное приложение</h4>
                        <span class="status-badge status-planning">Планируется</span>
                    </div>
                    <p class="project-desc">Приложение для iOS и Android с онлайн-оплатой</p>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 10%;"></div>
                    </div>
                    <div class="project-footer">
                        <div class="project-deadline">
                            <i class="far fa-calendar-alt"></i>
                            <span>Дедлайн: 30.08.2024</span>
                        </div>
                        <div class="project-team">
                            <div class="team-avatars">
                                <span class="avatar-small">МП</span>
                                <span class="avatar-small">ОК</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Экран 2: Проекты -->
        <section id="projects" class="screen">
            <div class="screen-header">
                <h2>Все проекты</h2>
                <div class="header-actions">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" placeholder="Поиск проектов...">
                    </div>
                    <button class="btn btn-primary">
                        <i class="fas fa-plus"></i> Добавить проект
                    </button>
                </div>
            </div>

            <!-- Таблица проектов -->
            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Название</th>
                            <th>Статус</th>
                            <th>Прогресс</th>
                            <th>Дедлайн</th>
                            <th>Команда</th>
                            <th>Действия</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="project-name">
                                <strong>Разработка нового сайта</strong>
                                <p class="text-muted">Корпоративный сайт компании</p>
                            </td>
                            <td><span class="status-badge status-active">Активен</span></td>
                            <td>
                                <div class="progress-bar small">
                                    <div class="progress-fill" style="width: 65%;"></div>
                                </div>
                                <span class="progress-text">65%</span>
                            </td>
                            <td>15.06.2024</td>
                            <td>
                                <div class="team-avatars">
                                    <span class="avatar-xs">АИ</span>
                                    <span class="avatar-xs">ИС</span>
                                </div>
                            </td>
                            <td>
                                <div class="table-actions">
                                    <button class="icon-btn" title="Редактировать">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="icon-btn" title="Удалить">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="project-name">
                                <strong>Мобильное приложение</strong>
                                <p class="text-muted">iOS/Android приложение</p>
                            </td>
                            <td><span class="status-badge status-planning">Планируется</span></td>
                            <td>
                                <div class="progress-bar small">
                                    <div class="progress-fill" style="width: 10%;"></div>
                                </div>
                                <span class="progress-text">10%</span>
                            </td>
                            <td>30.08.2024</td>
                            <td>
                                <div class="team-avatars">
                                    <span class="avatar-xs">МП</span>
                                    <span class="avatar-xs">ОК</span>
                                </div>
                            </td>
                            <td>
                                <div class="table-actions">
                                    <button class="icon-btn" title="Редактировать">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Экран 3: Пользователи (Админ) -->
        <section id="users" class="screen">
            <div class="screen-header">
                <h2>Пользователи системы</h2>
                <button class="btn btn-primary" onclick="openModal('userModal')">
                    <i class="fas fa-user-plus"></i> Добавить пользователя
                </button>
            </div>

            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Имя</th>
                            <th>Email</th>
                            <th>Роль</th>
                            <th>Дата регистрации</th>
                            <th>Действия</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <div class="user-cell">
                                    <div class="avatar-small">АИ</div>
                                    <div class="user-info-cell">
                                        <strong>Алексей Иванов</strong>
                                    </div>
                                </div>
                            </td>
                            <td>alex@company.com</td>
                            <td><span class="role-badge role-admin">Администратор</span></td>
                            <td>15.01.2023</td>
                            <td>
                                <div class="table-actions">
                                    <button class="icon-btn" title="Изменить роль">
                                        <i class="fas fa-user-cog"></i>
                                    </button>
                                    <button class="icon-btn text-danger" title="Удалить">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="user-cell">
                                    <div class="avatar-small">МП</div>
                                    <div class="user-info-cell">
                                        <strong>Мария Петрова</strong>
                                    </div>
                                </div>
                            </td>
                            <td>maria@company.com</td>
                            <td><span class="role-badge role-manager">Менеджер</span></td>
                            <td>20.03.2023</td>
                            <td>
                                <div class="table-actions">
                                    <button class="icon-btn" title="Изменить роль">
                                        <i class="fas fa-user-cog"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Экран 4: Мои задачи (Сотрудник) -->
        <section id="tasks" class="screen">
            <div class="screen-header">
                <h2>Мои задачи</h2>
                <div class="task-filters">
                    <button class="filter-btn active">Все</button>
                    <button class="filter-btn">To Do</button>
                    <button class="filter-btn">В работе</button>
                    <button class="filter-btn">На проверке</button>
                </div>
            </div>

            <!-- Канбан доска -->
            <div class="kanban-board">
                <div class="kanban-column">
                    <div class="column-header">
                        <h3>To Do <span class="task-count">3</span></h3>
                    </div>
                    <div class="task-card">
                        <div class="task-priority priority-high"></div>
                        <h4>Настройка API</h4>
                        <p>Реализовать эндпоинты для пользователей</p>
                        <div class="task-footer">
                            <span class="project-badge">Разработка сайта</span>
                            <button class="btn btn-sm" onclick="changeTaskStatus(this)">Взять в работу</button>
                        </div>
                    </div>
                </div>

                <div class="kanban-column">
                    <div class="column-header">
                        <h3>В работе <span class="task-count">2</span></h3>
                    </div>
                    <div class="task-card">
                        <div class="task-priority priority-medium"></div>
                        <h4>Дизайн главной страницы</h4>
                        <p>Создать макет в Figma</p>
                        <div class="task-footer">
                            <span class="project-badge">Разработка сайта</span>
                            <div class="task-actions">
                                <button class="icon-btn"><i class="fas fa-comment"></i></button>
                                <button class="btn btn-sm btn-success" onclick="changeTaskStatus(this)">Завершить</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="kanban-column">
                    <div class="column-header">
                        <h3>Готово <span class="task-count">5</span></h3>
                    </div>
                    <div class="task-card">
                        <div class="task-priority priority-low"></div>
                        <h4>Прототип навигации</h4>
                        <p>Создать прототип главного меню</p>
                        <div class="task-footer">
                            <span class="project-badge">Мобильное приложение</span>
                            <span class="text-success"><i class="fas fa-check"></i> Выполнено</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Модальное окно добавления пользователя -->
    <div id="userModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Добавить пользователя</h3>
                <button class="close-btn" onclick="closeModal('userModal')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addUserForm">
                    <div class="form-group">
                        <label for="userName">Имя и фамилия *</label>
                        <input type="text" id="userName" placeholder="Введите полное имя" required>
                    </div>
                    <div class="form-group">
                        <label for="userEmail">Email *</label>
                        <input type="email" id="userEmail" placeholder="email@company.com" required>
                    </div>
                    <div class="form-group">
                        <label for="userRole">Роль *</label>
                        <select id="userRole" required>
                            <option value="">Выберите роль</option>
                            <option value="admin">Администратор</option>
                            <option value="manager">Менеджер</option>
                            <option value="employee">Сотрудник</option>
                        </select>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="closeModal('userModal')">Отмена</button>
                        <button type="submit" class="btn btn-primary">Добавить пользователя</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Сообщение об успехе -->
    <div id="successMessage" class="alert alert-success">
        <i class="fas fa-check-circle"></i> Пользователь успешно добавлен!
    </div>

    <script src="script.js"></script>
</body>
</html>